angular.module("ui.bootstrap.tooltip",["ui.bootstrap.position","ui.bootstrap.bindHtml"]).provider("$tooltip",function(){function t(t){var e=/[A-Z]/g,n="-";return t.replace(e,function(t,e){return(e?n:"")+t.toLowerCase()})}var e={placement:"top",animation:!0,popupDelay:0},n={mouseenter:"mouseleave",click:"click",focus:"blur"},o={};this.options=function(t){angular.extend(o,t)},this.setTriggers=function(t){angular.extend(n,t)},this.$get=["$window","$compile","$timeout","$parse","$document","$position","$interpolate",function(i,p,a,l,r,c,u){return function(i,s,f){function d(t){var e=t||m.trigger||f,o=n[e]||e;return{show:e,hide:o}}var m=angular.extend({},e,o),h=t(i),v=u.startSymbol(),b=u.endSymbol(),g="<div "+h+'-popup title="'+v+"tt_title"+b+'" content="'+v+"tt_content"+b+'" placement="'+v+"tt_placement"+b+'" animation="tt_animation" is-open="tt_isOpen"></div>';return{restrict:"EA",scope:!0,compile:function(){var t=p(g);return function(e,n,o){function p(){e.tt_isOpen?f():u()}function u(){(!O||e.$eval(o[s+"Enable"]))&&(e.tt_popupDelay?(y=a(h,e.tt_popupDelay,!1),y.then(function(t){t()})):h()())}function f(){e.$apply(function(){v()})}function h(){return e.tt_content?(b(),_&&a.cancel(_),$.css({top:0,left:0,display:"block"}),w?r.find("body").append($):n.after($),k(),e.tt_isOpen=!0,e.$digest(),k):angular.noop}function v(){e.tt_isOpen=!1,a.cancel(y),e.tt_animation?_=a(g,500):g()}function b(){$&&g(),$=t(e,function(){}),e.$digest()}function g(){$&&($.remove(),$=null)}var $,_,y,w=angular.isDefined(m.appendToBody)?m.appendToBody:!1,D=d(void 0),O=angular.isDefined(o[s+"Enable"]),k=function(){var t,o,i,p;switch(t=w?c.offset(n):c.position(n),o=$.prop("offsetWidth"),i=$.prop("offsetHeight"),e.tt_placement){case"right":p={top:t.top+t.height/2-i/2,left:t.left+t.width};break;case"bottom":p={top:t.top+t.height,left:t.left+t.width/2-o/2};break;case"left":p={top:t.top+t.height/2-i/2,left:t.left-o};break;default:p={top:t.top-i,left:t.left+t.width/2-o/2}}p.top+="px",p.left+="px",$.css(p)};e.tt_isOpen=!1,o.$observe(i,function(t){e.tt_content=t,!t&&e.tt_isOpen&&v()}),o.$observe(s+"Title",function(t){e.tt_title=t}),o.$observe(s+"Placement",function(t){e.tt_placement=angular.isDefined(t)?t:m.placement}),o.$observe(s+"PopupDelay",function(t){var n=parseInt(t,10);e.tt_popupDelay=isNaN(n)?m.popupDelay:n});var A=function(){n.unbind(D.show,u),n.unbind(D.hide,f)};o.$observe(s+"Trigger",function(t){A(),D=d(t),D.show===D.hide?n.bind(D.show,p):(n.bind(D.show,u),n.bind(D.hide,f))});var T=e.$eval(o[s+"Animation"]);e.tt_animation=angular.isDefined(T)?!!T:m.animation,o.$observe(s+"AppendToBody",function(t){w=angular.isDefined(t)?l(t)(e):w}),w&&e.$on("$locationChangeSuccess",function(){e.tt_isOpen&&v()}),e.$on("$destroy",function(){a.cancel(_),a.cancel(y),A(),g()})}}}}}]}).directive("tooltipPopup",function(){return{restrict:"EA",replace:!0,scope:{content:"@",placement:"@",animation:"&",isOpen:"&"},templateUrl:"template/tooltip/tooltip-popup.html"}}).directive("tooltip",["$tooltip",function(t){return t("tooltip","tooltip","mouseenter")}]).directive("tooltipHtmlUnsafePopup",function(){return{restrict:"EA",replace:!0,scope:{content:"@",placement:"@",animation:"&",isOpen:"&"},templateUrl:"template/tooltip/tooltip-html-unsafe-popup.html"}}).directive("tooltipHtmlUnsafe",["$tooltip",function(t){return t("tooltipHtmlUnsafe","tooltip","mouseenter")}]);